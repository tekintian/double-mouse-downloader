appId: 'moe.moyu.double-mouse-downloader'
productName: 鼠鼠下载器
publish:
  provider: github
  owner: tekintian
  repo: double-mouse-downloader
  releaseType: release

# 图标配置
icon: ./build-resources/icon.png

# 压缩配置
compression: maximum

# 文件配置
files:
  - build/**/*
  - package.json

# 额外资源文件（会放在 Contents/Resources）
extraResources:
  - from: ./bin
    to: ./bin

# 排除不必要的文件
fileAssociations:
  - ext: []

# ASAR配置
asar: true
asarUnpack: []

# 产物文件名格式
artifactName: "${name}-${version}-${arch}.${ext}"

# macOS配置
mac:
  target:
    - dmg
    - zip
  arch:
    - x64
    - arm64
  minimumSystemVersion: '10.13'
  hardenedRuntime: false
  identity: null
  entitlements: entitlements.plist
  entitlementsInherit: entitlements.plist
  artifactName: "${name}-${version}-${arch}.${ext}"
  extendInfo:
    NSDocumentsFolderUsageDescription: 应用需要访问文档文件夹来保存下载的视频
    NSDownloadsFolderUsageDescription: 应用需要访问下载文件夹来保存视频

# Windows配置
win:
  target:
    - nsis
    - 7z
  arch:
    - x64
  artifactName: "${name}-${version}-${arch}.${ext}"

# 构建资源目录
directories:
  buildResources: ./build-resources

# NSIS配置
nsis:
  oneClick: false
  allowToChangeInstallationDirectory: true
  installerLanguages: 'zh_CN'
  language: '2052'